<nav class="navbar navbar-expand-lg navbar-light" style="background-color: #563d7c;">
    <a class="navbar-brand" style="color:white;">
        <img src="assets/logo1.png" width="30" height="30" class="d-inline-block align-top" alt="Logo">
        Finish Depression
    </a>
    <button class="navbar-toggler btn btn-outline-primary" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo02"
        aria-expanded="false" aria-label="Toggle navigation" (click)="isCollapsed = !isCollapsed" [attr.aria-expanded]="!isCollapsed"
        aria-controls="navbarTogglerDemo02">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarTogglerDemo02" [ngbCollapse]="isCollapsed">
        <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
            <li class="nav-item">
                <a class="nav-link" style="color:white;">Dashboard <span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item">
                <a class="nav-link" (click)="navToTodaysdetail()" style="color:white;">Heute</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" (click)="navToFaq()" style="color:white;">FAQ</a>
            </li>
        </ul>
        <ul class="navbar-nav ml-auto">
            <li class="nav-item">
                <!-- Example single danger button -->
                <div class="btn-group">
                    <button (click)="getCurrentData()" type="button" class="btn btn-outline-warning dropdown-toggle"
                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    </button>
                    <div class="dropdown-menu dropdown-menu-right">
                        <div #imgUrl class="dropdown-item">
                            <img class="card-img-top" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSTCuVMUVlRYbWFWXsq8h6xomJxMG5dq0BWEWmJaFNngsG_e4My"
                                alt="Profilbild">
                        </div>
                        <div #username class="dropdown-item">
                        </div>
                        <div #email class="dropdown-item">
                        </div>
                        <div class="dropdown-item">
                            <button (click)="logOut()" type="button" class="btn btn-outline-danger">Abmelden</button>
                        </div>
                    </div>
                </div>
            </li>
        </ul>
    </div>
</nav>

<!--Main Content-->
<div class="row" style="background-color: #ffc107;">
    <div class="col-sm-7">
        <div class="row">
            <div class="col-sm-10">
                <div class="jumbotron jumbotron-fluid" style="background-color: #ffc107; padding: 1rem 1rem;">
                    <div class="container">
                        <h1 class="display-4">Willkommen, {{_username}}</h1>
                        <p class="lead">Heute, am {{_currentDate}} erzielten Sie bereits:</p>
                        <p class="lead">
                            <img src="assets/steps.png" width="40" height="40" alt="Schritte">
                            Schritte: {{stepsCount}}
                        </p>
                        <p class="lead">
                            <img src="assets/distance.png" width="40" height="40" alt="Distanz">
                            Distanz: {{distanceCount}} Meter
                        </p>
                        <p class="lead">
                            <img src="assets/burn.png" width="40" height="40" alt="Kalorien">
                            Kalorien: {{caloriesCount}} kcal
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--Achievements-->
    <div class="col-sm-5" style="padding: 1rem 3rem;">
        <h1 class="display-4">Erfolge</h1>
        <div *ngIf="_achieveFirstMedal" style="display:inline;">
            <img data-toggle="modal" data-target="#exampleModalCenter" src="assets/bronzeMedal.png" width="80" height="80"
                class="d-inline-block align-top" alt="Erfolg bereits erzielt." placement="top" ngbTooltip="Sehr gut, Sie haben sich heute angemeldet und einen Schritt vorwärts gemacht. Bleiben Sie aktiv, um weitere Erfolge zu erzielen.">
        </div>
        <div *ngIf="_achieveSecondMedal" style="display:inline;">
            <img data-toggle="modal" data-target="#stepsModalCenter" src="assets/silverMedal.png" width="90" height="90"
                class="d-inline-block align-top" alt="Erfolg bereits erzielt." placement="top" ngbTooltip="Sehr gut, Sie haben heute die {{averageStepsGoal/2}} Schritte geschafft. Bleiben Sie aktiv, um weitere Erfolge zu erzielen.">
        </div>
        <div *ngIf="_achieveThirdMedal" style="display:inline;">
            <img data-toggle="modal" data-target="#steps2ModalCenter" src="assets/goldMedal.png" width="100" height="100"
                class="d-inline-block align-top" alt="Erfolg bereits erzielt." placement="top" ngbTooltip="Sehr gut, Sie haben heute die {{averageStepsGoal}} Schritte geschafft. Bleiben Sie auch in den kommenden Tagen aktiv, um weitere Erfolge zu erzielen.">
        </div>

        <div *ngIf="!_achieveFirstMedal" style="display:inline;">
            <img src="assets/defaultMedal.png" width="80" height="80" class="d-inline-block align-top" alt="Erfolg noch nicht erzielt."
                placement="top" ngbTooltip="Kein Erfolg erzielt. Melden Sie sich jeden Tag an, um die Bronze-Medaille freizuschalten.">
        </div>
        <div *ngIf="!_achieveSecondMedal" style="display:inline;">
            <img src="assets/defaultMedal.png" width="90" height="90" class="d-inline-block align-top" alt="Erfolg noch nicht erzielt."
                placement="top" ngbTooltip="Kein Erfolg erzielt. Erzielen Sie {{(averageStepsGoal / 2).toFixed(0)}} Schritte, um die Silber-Medaille freizuschalten.">
        </div>
        <div *ngIf="!_achieveThirdMedal" style="display:inline;">
            <img src="assets/defaultMedal.png" width="100" height="100" class="d-inline-block align-top" alt="Erfolg noch nicht erzielt."
                placement="top" ngbTooltip="Kein Erfolg erzielt. Erzielen Sie {{averageStepsGoal}} Schritte, um die Gold-Medaille freizuschalten.">
        </div>
    </div>
</div>
<!--Achievements END-->
<br>
<br>
<br>
<div class="row">
    <div class="col-sm-6" style="padding: 0rem 3rem;">
        <div class="card">
            <div class="card-body">
                <div *ngIf="showCheckBox">
                    <button style="float: right;" type="button" class="btn btn-outline-warning mr-2" placement="top"
                        ngbTooltip="Leistungsbezogenes Ziel setzen?">
                        <strong>i</strong>
                    </button>
                    <input type="checkbox" style="float: right;" (change)="toggleEditable($event)" [checked]="statusCheckBox">
                </div>
                <h5 class="card-title">
                    <div *ngIf="!contentEditable">
                        <img src="assets/steps.png" width="40" height="40" alt="Schritte">
                        Erzielen Sie 10.000 Schritte heute
                    </div>
                    
                    <div *ngIf="contentEditable">
                        <img src="assets/steps.png" width="40" height="40" alt="Schritte">
                        Erzielen Sie {{averageStepsGoal}} Schritte heute
                    </div>
                </h5>
                <p class="card-text">Ihnen bleiben noch: {{_remainingTime}}</p>

                <div *ngIf="!contentEditable">
                    <div class="progress">
                        <div class="progress-bar bg-warning" role="progressbar" [style.width]="(stepsCount/100) + '%'"
                            attr.aria-valuenow="{{stepsCount/100}}" aria-valuemin="0" aria-valuemax="100">
                            {{stepsCount/100}}
                        </div>
                    </div>
                </div>
                <div *ngIf="contentEditable">
                    <div class="progress">
                        <div class="progress-bar bg-warning" role="progressbar" [style.width]="percentage + '%'"
                            attr.aria-valuenow="{{percentage}}" aria-valuemin="0" aria-valuemax="100">
                            {{percentage}}
                        </div>
                    </div>
                </div>
                <br>
                <!-- Button trigger modal walking modal-->
                <button type="button" class="btn btn-outline-warning" data-toggle="modal" data-target="#walkingModal">
                    Mehr Schritte erzielen
                </button>
            </div>
        </div>
    </div>
    <div class="col-sm-6" style="padding: 0rem 3rem;">
        <div class="card">
            <div class="card-body">
                <h5 class="card-title">
                    <img src="assets/temperature.png" width="40" height="40" alt="Schritte">
                    Die normal Körpertemperatur liegt bei 36,3 bis 37,4°C
                </h5>
                <p class="card-text">Ihre aktuelle Körpertemperatur</p>
                <div class="progress">
                    <div class="progress-bar bg-warning" role="progressbar" style="width: 37%;" aria-valuenow="37"
                        aria-valuemin="0" aria-valuemax="100">37</div>
                </div>
                <br>
                <!-- Button trigger modal breathing modal-->
                <button type="button" class="btn btn-outline-warning" data-toggle="modal" data-target="#breathingModal">
                    Innere Ruhe finden
                </button>
            </div>
        </div>
    </div>
</div>

<br>
<br>
<br>

<div class="row">
    <div class="col-sm-7">
        <div class="row">
            <div class="col-sm-10">
                <div class="jumbotron jumbotron-fluid" style="background-color: #ffc107; padding: 1rem 1rem;">
                    <div class="container">
                        <h1 class="display-4">Daten der letzten drei Tage:</h1>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-sm-12" style="padding: 3rem 3rem;">
        <canvas id="lineChart"></canvas>
    </div>
</div>

<!-- Modal for breathing workout-->
<div class="modal fade" id="breathingModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle">Atmungsübung</h5>
                <div *ngIf="showBtns">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="finishedBreathing = false">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
            </div>
            <div class="modal-body">
                <div *ngIf="!showBreathing">
                    <div *ngIf="!finishedBreathing">
                        Begeben Sie sich an einen ruhigen Platz und konzentrieren Sie sich 1 Minute lang auf Ihren
                        Atem.
                    </div>
                </div>
                <div *ngIf="finishedBreathing">
                    Super, {{_username}}! Sie haben es geschafft!
                </div>

                <div *ngIf="showBreathing">
                    <div align="center">
                        Noch {{_counter}} Sekunden...
                    </div>
                    <br>
                    <br>
                    <br>
                    <br>
                    <div class="orb orb_1">
                    </div>
                    <br>
                    <br>
                    <br>
                    <br>
                    <div align="center">
                        {{ _breathingHelp }}
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <div *ngIf="showBtns">
                    <button type="button" class="btn btn-outline-warning" (click)="hideBreathing()">
                        Starten
                    </button>
                    <button type="button" class="btn btn-outline-danger" data-dismiss="modal" (click)="finishedBreathing = false">Schließen</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Modal for walking workout-->
<div class="modal fade" id="walkingModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle">Laufübung</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-md-2">
                            <div class="text-center">
                                <img src="assets/walking.gif" width="60" height="100" alt="Laufen">
                            </div>
                        </div>
                        <div class="col-md-10">
                            Laufen macht <b>glücklich</b>: Sie sind draußen, spüren Ihren Körper, haben einen
                            Ausgleich
                            zu
                            Ihrer hektischen Welt.
                            <br>
                            Bevor Sie loslaufen,setzen Sie sich ein konkretes Ziel: <i>"Ich werde mindestens 10
                                Minuten
                                laufen/spazieren gehen!"</i>.
                            <br>
                            Finden Sie Ihren Laufrhythmus, indem Sie dieser Übung <b>täglich</b> nachkommen.
                            <br>
                            Nach Ihrem Lauf, sehen Sie Ihre Verbesserungen auf dem Dashboard.
                        </div>
                    </div>
                </div>

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-outline-danger" data-dismiss="modal">Verstanden</button>
            </div>
        </div>
    </div>
</div>

<!-- Modal Erfolg for first login of the day-->
<div class="modal fade" #modal id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle">Super, {{_username}}</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                Ersten Erfolg für heute gesammelt.
                Sie haben sich heute angemeldet und einen Schritt vorwärts gemacht. Bleiben Sie
                aktiv, um weitere Erfolge zu erzielen.
                Gestern haben Sie {{yesterdaySteps}} Schritte und heute bereits: {{stepsCount}} Schritte erzielt.
                Fokusieren Sie sich auf Ihre Ziele und versuchen Sie sie zu erreichen.
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-outline-danger" data-dismiss="modal">Verstanden</button>
            </div>
        </div>
    </div>
</div>

<!-- Modal Erfolg for over 5000 steps-->
<div class="modal fade" #modal2 id="stepsModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle">Super, {{_username}}</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                Zweiten Erfolg für heute gesammelt.
                Sie haben heute bereits {{averageStepsGoal/2}} Schritte erzielt. Bleiben Sie
                aktiv, um weitere Erfolge zu erzielen.
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-outline-danger" data-dismiss="modal">Verstanden</button>
            </div>
        </div>
    </div>
</div>

<!-- Modal Erfolg for over 10000 steps-->
<div class="modal fade" #modal3 id="steps2ModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle">Super, {{_username}}</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                Starke Leistung! Sie haben Ihren dritten Erfolg für heute gesammelt.
                Sie haben heute bereits {{averageStepsGoal}} Schritte erzielt. Bleiben Sie auch in den kommenden Tagen
                aktiv, um weitere Erfolge zu erzielen.
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-outline-danger" data-dismiss="modal">Verstanden</button>
            </div>
        </div>
    </div>
</div>

<!-- Modal AI between 3.000 and 5.000 steps-->
<div class="modal fade" #modal4 id="airFirstModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle">Nehmen Sie sich die Zeit, {{_username}}</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                Ihnen fehlen nur noch einige Schritte, um die {{averageStepsGoal/2}} Schritte zu erreichen. Somit würden Sie Ihren
                zweiten Erfolg für heute erzielen.
                Nehmen Sie sich die Zeit und starten Sie eine Laufübung! Je aktiver Sie sind, desto besser werden
                Sie sich fühlen.
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-outline-danger" data-dismiss="modal">Verstanden</button>
            </div>
        </div>
    </div>
</div>

<!-- Modal AI between 8.000 and 10.000 steps-->
<div class="modal fade" #modal5 id="airSecondModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle">Nehmen Sie sich die Zeit, {{_username}}</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                Starke Leistung, Sie sind auf dem besten Wege die {{averageStepsGoal}} Schritte zu erzielen. Ihnen fehlen nur
                noch einige Schritte. Um Ihren dritten Erfolg für den heutigen Tag zu meistern, müssen Sie die {{averageStepsGoal}}
                Schritte erzielen. Nehmen Sie sich die Zeit und starten Sie eine Laufübung! Je aktiver Sie sind, desto
                besser werden
                Sie sich fühlen.
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-outline-danger" data-dismiss="modal">Verstanden</button>
            </div>
        </div>
    </div>
</div>